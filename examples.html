<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2013-08-01
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Keegan Witt" />
    <meta name="Date-Revision-yyyymmdd" content="20130801" />
    <meta http-equiv="Content-Language" content="en" />
    <title>GMavenPlus Plugin - GMavenPlus Plugin Examples</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/groovy/gmavenplus">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>GMavenPlus Plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2013-08-01</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.0-beta-2</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                  
      <li>
    
                          <a href="usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                                                                                                                                                                                    
      <li class="active">
    
            <a href="#"><i class="icon-chevron-down"></i>Examples</a>
                  <ul class="nav nav-list">
                      
      <li>
    
                          <a href="examples.html#Pure_Groovy_Compilation" title="Pure Groovy Compilation">
          <i class="none"></i>
        Pure Groovy Compilation</a>
            </li>
                      
      <li>
    
                          <a href="examples.html#Joint_Compilation" title="Joint Compilation">
          <i class="none"></i>
        Joint Compilation</a>
            </li>
                      
      <li>
    
                          <a href="examples.html#InvokeDynamic_Compilation" title="InvokeDynamic Compilation">
          <i class="none"></i>
        InvokeDynamic Compilation</a>
            </li>
                      
      <li>
    
                          <a href="examples.html#Groovydoc_for_Pure_Groovy" title="Groovydoc for Pure Groovy">
          <i class="none"></i>
        Groovydoc for Pure Groovy</a>
            </li>
                      
      <li>
    
                          <a href="examples.html#Groovydoc_for_Joint_Projects" title="Groovydoc for Joint Projects">
          <i class="none"></i>
        Groovydoc for Joint Projects</a>
            </li>
                      
      <li>
    
                          <a href="examples.html#Add_Groovydoc_to_Site" title="Add Groovydoc to Site">
          <i class="none"></i>
        Add Groovydoc to Site</a>
            </li>
                      
      <li>
    
                          <a href="examples.html#Execute_Scripts" title="Execute Scripts">
          <i class="none"></i>
        Execute Scripts</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Examples<a name="Examples"></a></h2>
<p>The following examples describe the various ways GMavenPlus Plugin can be used.</p>
<ul>
<li><a href="#Pure_Groovy_Compilation">Pure Groovy Compilation</a></li>
<li><a href="#Joint_Compilation">Joint Compilation</a></li>
<li><a href="#InvokeDynamic_Compilation">InvokeDynamic Compilation</a></li>
<li><a href="#Groovydoc_for_Pure_Groovy">Groovydoc for Pure Groovy</a></li>
<li><a href="#Groovydoc_for_Joint_Projects">Groovydoc for Joint Projects</a></li>
<li><a href="#Add_Groovydoc_to_Site">Add Groovydoc to Site</a></li>
<li><a href="#Execute_Scripts">Execute Scripts</a></li></ul>
<div class="section">
<h3><a name="Pure_Groovy_Compilation">Pure Groovy Compilation</a></h3>
<p>To compile Groovy code as part of the project compilation when there are no dependencies between Java and Groovy, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-beta-2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy should work here --&gt;
      &lt;version&gt;2.1.6&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To compile both the main and test Groovy sources, simply execute the normal compile phase from the default lifecycle:</p>
<div class="source">
<pre>mvn compile
</pre></div></div>
<div class="section">
<h3><a name="Joint_Compilation">Joint Compilation</a></h3>
<p>To compile projects where you have mixed Java and Groovy (with dependencies between the two), you'll need to generate stubs in addition to normal compilation. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-beta-2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;generateStubs&lt;/goal&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testGenerateStubs&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.7.0 should work here --&gt;
      &lt;version&gt;2.1.6&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To compile both the main and test Groovy and Java sources, simply execute the normal compile phase from the default lifecycle:</p>
<div class="source">
<pre>mvn compile
</pre></div></div>
<div class="section">
<h3><a name="InvokeDynamic_Compilation">InvokeDynamic Compilation</a></h3>
<p>To take advantage of <a class="externalLink" href="http://docs.oracle.com/javase/7/docs/technotes/guides/vm/multiple-language-support.html#invokedynamic">invokedynamic</a>, you need to include the Groovy jar that <a class="externalLink" href="http://groovy.codehaus.org/InvokeDynamic+support">supports it</a> and set the configuration option. If you only include the Groovy indy jar without setting the configuration option only Groovy's classes will take advantage of invokedynamic, your classes will not. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-beta-2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;invokeDynamic&gt;true&lt;/invokeDynamic&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any indy version of Groovy \&gt;= 2.0.0-beta-3 should work here --&gt;
      &lt;version&gt;2.1.6&lt;/version&gt;
      &lt;classifier&gt;indy&lt;/classifier&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To compile both the main and test Groovy sources, simply execute the normal compile phase from the default lifecycle:</p>
<div class="source">
<pre>mvn compile
</pre></div></div>
<div class="section">
<h3><a name="Groovydoc_for_Pure_Groovy">Groovydoc for Pure Groovy</a></h3>
<p>To generate Groovydoc for mixed Groovy and Java projects manually, you only need add the plugin (no need to configure any executions). To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-beta-2&lt;/version&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.6.2 should work here --&gt;
      &lt;version&gt;2.1.6&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To generate the groovydoc for the main sources, simply execute GMavenPlus's groovydoc goal:</p>
<div class="source">
<pre>mvn gplus:groovydoc
</pre></div>
<p>To make this easy to invoke (like above), you may want to add the plugin group to your <tt>settings.xml</tt>:</p>
<div class="source">
<pre>&lt;pluginGroups&gt;
  &lt;pluginGroup&gt;org.codehaus.gmavenplus&lt;/pluginGroup&gt;
&lt;pluginGroups&gt;
</pre></div></div>
<div class="section">
<h3><a name="Groovydoc_for_Joint_Projects">Groovydoc for Joint Projects</a></h3>
<p>To generate Groovydoc for joint Groovy projects manually, you only need add the plugin (no need to configure any executions). To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-beta-2&lt;/version&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.7.0 should work here --&gt;
      &lt;version&gt;2.1.6&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To generate the groovydoc for the main sources, simply execute GMavenPlus's generateStubs and groovydoc goals:</p>
<div class="source">
<pre>mvn gplus:generateStubs gplus:groovydoc
</pre></div>
<p>To make this easy to invoke (like above), you may want to add the plugin group to your <tt>settings.xml</tt>:</p>
<div class="source">
<pre>&lt;pluginGroups&gt;
  &lt;pluginGroup&gt;org.codehaus.gmavenplus&lt;/pluginGroup&gt;
&lt;pluginGroups&gt;
</pre></div></div>
<div class="section">
<h3><a name="Add_Groovydoc_to_Site">Add Groovydoc to Site</a></h3>
<p>Note that this mojo is not set up to be used in the &lt;reporting&gt; section. So you will need to set the &lt;outputDirectory&gt; and &lt;executions&gt; to mimic this functionality. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-beta-2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;phase&gt;site&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;generateStubs&lt;/goal&gt;
              &lt;goal&gt;testGenerateStubs&lt;/goal&gt;
              &lt;goal&gt;groovydoc&lt;/goal&gt;
              &lt;goal&gt;testGroovydoc&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.7.0 should work here --&gt;
      &lt;version&gt;2.1.6&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To generate the groovydoc for the main sources, simply execute the normal site phase from the default lifecycle:</p>
<div class="source">
<pre>mvn site
</pre></div></div>
<div class="section">
<h3><a name="Execute_Scripts">Execute Scripts</a></h3>
<p>Note that if you'd like to separate script dependencies from those of your project, you can use Groovy's <a class="externalLink" href="http://groovy.codehaus.org/Grape">@Grab</a> annotations, but you will need a compile dependency on Ivy. Any compile dependencies your project uses are also available for use in your scripts. This example demonstrates both. Note that you need to escape any dollar signs in your script so Maven doesn't try to filter the values. To execute Groovy scripts in your <tt>pom.xml</tt>, add something similar to the following:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-beta-2&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;execute&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;scripts&gt;
            &lt;script&gt;&lt;![CDATA[
              @Grapes([
                  @Grab(group='commons-lang', module='commons-lang', version='2.6')
              ])
              import org.apache.commons.lang.SystemUtils
              import org.slf4j.Logger
              import org.slf4j.LoggerFactory
              Logger logger = LoggerFactory.getLogger(&quot;chapters.introduction.HelloWorld1&quot;)
              logger.debug(&quot;Hello world.&quot;)
              File targetDir = new File('target')
              if (!targetDir.exists())
                  targetDir.mkdir()
              new File(targetDir, 'javaVersion.txt').append(&quot;Using Java $${SystemUtils.JAVA_VERSION}&quot;)
            ]]&gt;&lt;/script&gt;
            &lt;script&gt;src/main/resources/groovyScripts/someScript.groovy&lt;/script&gt;
          &lt;/scripts&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy should work here --&gt;
      &lt;version&gt;2.1.6&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;!-- this is only needed because the script uses it --&gt;
      &lt;groupId&gt;org.apache.ivy&lt;/groupId&gt;
      &lt;artifactId&gt;ivy&lt;/artifactId&gt;
      &lt;version&gt;2.2.0&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;!-- this is only needed because the script uses it --&gt;
      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
      &lt;version&gt;1.0.13&lt;/version&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To execute your script(s), simply execute GMavenPlus's execute goal:</p>
<div class="source">
<pre>mvn gplus:execute
</pre></div>
<p>To make this easy to invoke (like above), you may want to add the plugin group to your <tt>settings.xml</tt>:</p>
<div class="source">
<pre>&lt;pluginGroups&gt;
  &lt;pluginGroup&gt;org.codehaus.gmavenplus&lt;/pluginGroup&gt;
&lt;pluginGroups&gt;
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2011-2013.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
