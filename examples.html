<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-03-18 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Keegan Witt" />
    <meta name="Date-Revision-yyyymmdd" content="20140318" />
    <meta http-equiv="Content-Language" content="en" />
    <title>GMavenPlus Plugin - GMavenPlus Examples</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/groovy/gmavenplus">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="index.html" id="bannerLeft" title="GMavenPlus logo">
                                                                                                <img src="images/logos/GMavenPlusLogo_sm.png"  alt="GMavenPlus logo"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-03-18
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.1-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                
      <li>
  
                          <a href="http://docs.codehaus.org/display/GMAVENPLUS/Usage" class="externalLink" target="_top" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                
      <li>
  
                          <a href="http://docs.codehaus.org/display/GMAVENPLUS/Examples" class="externalLink" title="Examples">
          <i class="none"></i>
        Examples</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                                                                              
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Examples<a name="Examples"></a></h2>
<p>The following examples describe the various ways GMavenPlus can be used.</p>
<ul>
<li><a href="#Pure_Groovy_Compilation">Pure Groovy Compilation</a></li>
<li><a href="#Joint_Compilation">Joint Compilation</a></li>
<li><a href="#InvokeDynamic_Compilation">InvokeDynamic Compilation</a></li>
<li><a href="#Additional_Sources">Additional Sources</a></li>
<li><a href="#Groovydoc">Groovydoc</a></li>
<li><a href="#Add_Groovydoc_to_Site">Add Groovydoc to Site</a></li>
<li><a href="#Execute_Scripts">Execute Scripts</a></li>
<li><a href="#Groovy_Console">Groovy Console</a></li>
<li><a href="#Groovy_Shell">Groovy Shell</a></li>
<li><a href="#Working_with_Older_Groovy_Versions">Working with Older Groovy Versions</a></li></ul>
<div class="section">
<h3><a name="Pure_Groovy_Compilation">Pure Groovy Compilation</a></h3>
<p>To compile Groovy code as part of the project compilation when there are no dependencies between Java and Groovy, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.5.0 should work here --&gt;
      &lt;version&gt;2.2.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To compile both the main and test Groovy sources, simply execute the normal compile phase from the default lifecycle:</p>
<div class="source">
<pre>mvn compile
</pre></div></div>
<div class="section">
<h3><a name="Joint_Compilation">Joint Compilation</a></h3>
<p>To compile projects where you have mixed Java and Groovy (with dependencies between the two), you'll need to generate stubs in addition to normal compilation. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;generateStubs&lt;/goal&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testGenerateStubs&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.8.2 should work here --&gt;
      &lt;version&gt;2.2.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>This will modify Maven's source directories to contain both the Java sources and the Groovy Stubs (which might be useful for polyglot builds), but not the Groovy sources.</p>
<p>Alternatively, you can use GMavenPlus's customized lifecycle. This will modify Maven's source directories to contain both the Java sources and the Groovy sources, but not the Groovy stubs. Note that if you do choose this option, GMavenPlus can't add the stubs back to Maven's sources. If you need them later in the build for some other plugin, you'll have to use the addStubSources/addTestStubSources goals or <a class="externalLink" href="http://mojo.codehaus.org/build-helper-maven-plugin/">Build Helper</a>. Additionally, you won't need to specify any executions, as all compilation mojos are included by default. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;packaging&gt;groovy-jar&lt;/packaging&gt;
  &lt;properties&gt;
    &lt;gmavenplusVersion&gt;1.1-SNAPSHOT&lt;/gmavenplusVersion&gt;
  &lt;/properties&gt;
  &lt;build&gt;
    &lt;extensions&gt;
      &lt;extension&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;${gmavenplusVersion}&lt;/version&gt;
      &lt;/extension&gt;
    &lt;/extensions&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;${gmavenplusVersion}&lt;/version&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.8.2 should work here --&gt;
      &lt;version&gt;2.2.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>If using a lifecycle extension doesn't work for you for whatever reason, you can still keep the Groovy sources (without the stubs) in Maven's source directories by invoking the source modifying mojos directly. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;generateStubs&lt;/goal&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testGenerateStubs&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
              &lt;goal&gt;removeStubs&lt;/goal&gt;
              &lt;goal&gt;removeTestStubs&lt;/goal&gt;
              &lt;goal&gt;addSources&lt;/goal&gt;
              &lt;goal&gt;addTestSources&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.8.2 should work here --&gt;
      &lt;version&gt;2.2.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To compile both the main and test Groovy and Java sources, simply execute the normal compile phase from the default lifecycle:</p>
<div class="source">
<pre>mvn compile
</pre></div></div>
<div class="section">
<h3><a name="InvokeDynamic_Compilation">InvokeDynamic Compilation</a></h3>
<p>To take advantage of <a class="externalLink" href="http://docs.oracle.com/javase/7/docs/technotes/guides/vm/multiple-language-support.html#invokedynamic">invokedynamic</a>, you need to include the Groovy jar that <a class="externalLink" href="http://groovy.codehaus.org/InvokeDynamic+support">supports it</a> and set the configuration option. If you only include the Groovy indy jar without setting the configuration option only Groovy's classes will take advantage of invokedynamic, your classes will not. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;invokeDynamic&gt;true&lt;/invokeDynamic&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any indy version of Groovy \&gt;= 2.0.0-beta-3 should work here --&gt;
      &lt;version&gt;2.2.2&lt;/version&gt;
      &lt;classifier&gt;indy&lt;/classifier&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To compile both the main and test Groovy sources, simply execute the normal compile phase from the default lifecycle:</p>
<div class="source">
<pre>mvn compile
</pre></div></div>
<div class="section">
<h3><a name="Additional_Sources">Additional Sources</a></h3>
<p>If you have sources that don't have the default extension (.groovy) or are in non-default directories (src/main/groovy and src/test/groovy) you must configure GMavenPlus to recognize those sources. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;!-- this example has a structure of
               ./
               |-- src/
                   |-- main/
                       |-- groovy/
                           |-- Class1.groovy
                   |-- additional/
                       |-- groovy/
                           |-- Class2.groovy
                       |-- gvy/
                           |-- Class3.gvy
                   |-- test/
                       |-- groovy/
                       |-- Class1Test.groovy
                   |-- additional/
                       |-- groovy/
                           |-- Class2Test.groovy
                       |-- gvy/
                           |-- Class3Test.gvy
          --&gt;
          &lt;sources&gt;
            &lt;source&gt;
              &lt;directory&gt;C:\Users\Keegan\Documents\GitHub\GMavenPlus\target\checkout/src/main/groovy&lt;/directory&gt;
              &lt;includes&gt;
                &lt;include&gt;**/*.groovy&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/source&gt;
            &lt;source&gt;
              &lt;directory&gt;C:\Users\Keegan\Documents\GitHub\GMavenPlus\target\checkout/src/additional&lt;/directory&gt;
              &lt;includes&gt;
                &lt;include&gt;groovy/**/*.groovy&lt;/include&gt;
                &lt;include&gt;gvy/**/*.gvy&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/source&gt;
          &lt;/sources&gt;
          &lt;testSources&gt;
            &lt;testSource&gt;
              &lt;directory&gt;C:\Users\Keegan\Documents\GitHub\GMavenPlus\target\checkout/src/test/groovy&lt;/directory&gt;
              &lt;includes&gt;
                &lt;include&gt;**/*.groovy&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/testSource&gt;
            &lt;testSource&gt;
               &lt;directory&gt;C:\Users\Keegan\Documents\GitHub\GMavenPlus\target\checkout/src/additionalTest&lt;/directory&gt;
              &lt;includes&gt;
                &lt;include&gt;groovy/**/*.groovy&lt;/include&gt;
                &lt;include&gt;gvy/**/*.gvy&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/testSource&gt;
          &lt;/testSources&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.5.0 should work here --&gt;
      &lt;version&gt;2.2.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To compile both the main and test Groovy sources, simply execute the normal compile phase from the default lifecycle:</p>
<div class="source">
<pre>mvn compile
</pre></div></div>
<div class="section">
<h3><a name="Groovydoc">Groovydoc</a></h3>
<p>To generate Groovydoc for mixed Groovy and Java projects manually, you only need add the plugin (no need to configure any executions). To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.5.0 (except 1.6 RC 1) should work here --&gt;
      &lt;version&gt;2.2.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To generate the groovydoc for the main sources, simply execute GMavenPlus's groovydoc goal:</p>
<div class="source">
<pre>mvn gplus:groovydoc
</pre></div>
<p>If you are doing this for Groovy objects that also use Jav sources, you will also need to execute GMavenPlus's generateStubs goal in addition to the groovydoc goal:</p>
<div class="source">
<pre>mvn gplus:generateStubs gplus:groovydoc
</pre></div>
<p>To make this easy to invoke (like above), you may want to add the plugin group to your <tt>settings.xml</tt>:</p>
<div class="source">
<pre>&lt;pluginGroups&gt;
  &lt;pluginGroup&gt;org.codehaus.gmavenplus&lt;/pluginGroup&gt;
&lt;pluginGroups&gt;
</pre></div></div>
<div class="section">
<h3><a name="Add_Groovydoc_to_Site">Add Groovydoc to Site</a></h3>
<p>Note that this mojo is not set up to be used in the &lt;reporting&gt; section. So you will need to set the &lt;outputDirectory&gt; and &lt;executions&gt; to mimic this functionality. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;phase&gt;site&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;generateStubs&lt;/goal&gt;
              &lt;goal&gt;testGenerateStubs&lt;/goal&gt;
              &lt;goal&gt;groovydoc&lt;/goal&gt;
              &lt;goal&gt;testGroovydoc&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy \&gt;= 1.8.2 should work here --&gt;
      &lt;version&gt;2.2.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To generate the groovydoc for the main sources, simply execute the normal site phase from the default lifecycle:</p>
<div class="source">
<pre>mvn site
</pre></div>
<p>Keep in mind that if you can exclude the stub generation goals from the execution if</p>
<ul>
<li>You don't have any Java that Groovy classes use</li>
<li>Another execution has already generated the stubs (pretty typical in site lifecycle)</li>
<li>You are using GMavenPlus's customized lifecycle</li></ul></div>
<div class="section">
<h3><a name="Execute_Scripts">Execute Scripts</a></h3>
<p>Note that if you'd like to separate script dependencies from those of your project, you can use Groovy's <a class="externalLink" href="http://groovy.codehaus.org/Grape">@Grab</a> annotations, but you will need a compile dependency on Ivy. Any plugin dependencies and any project test dependencies are also available for use in your scripts (remember that test scope also includes compile scope). This example demonstrates all three ways of including dependencies. Note that Maven will try to filter dollar curly references, so you'll need to either make sure the names don't collide or use the dollar without the curly if you don't want that to happen. Note that you can also add your own properties to use in the script (that can be set from the POM's properties or the command line. To execute Groovy scripts in build, add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;execute&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;properties&gt;
            &lt;property&gt;
              &lt;name&gt;someProp&lt;/name&gt;
              &lt;value&gt;${someProp}&lt;/value&gt;
            &lt;/property&gt;
          &lt;/properties&gt;
          &lt;scripts&gt;
            &lt;script&gt;&lt;![CDATA[
              @Grapes([
                  @Grab(group='commons-lang', module='commons-lang', version='2.6')
              ])
              import org.apache.commons.lang.SystemUtils
              import org.slf4j.Logger
              import org.slf4j.LoggerFactory
              Logger logger = LoggerFactory.getLogger(&quot;chapters.introduction.HelloWorld1&quot;)
              logger.debug(&quot;This session's goals are {}.&quot;, session.goals)
              logger.debug(&quot;The settings are {}.&quot;, settings)
              logger.debug(&quot;The plugin artifacts are {}.&quot;, pluginArtifacts)
              logger.debug(&quot;The local repository is {}.&quot;, localRepository)
              logger.debug(&quot;The reactor projects are {}.&quot;, reactorProjects)
              logger.debug(&quot;someProp is {}.&quot;, someProp)
              logger.debug(&quot;Using Java {}.&quot;, SystemUtils.JAVA_VERSION)
              // the first reference is not filtered by Maven, the second reference is
              assert &quot;$project.name&quot; == &quot;${project.name}&quot;
            ]]&gt;&lt;/script&gt;
            &lt;script&gt;file:///C:\Users\Keegan\Documents\GitHub\GMavenPlus\target\checkout/src/main/resources/groovyScripts/someScript.groovy&lt;/script&gt;
          &lt;/scripts&gt;
        &lt;/configuration&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
            &lt;!-- any version of Groovy \&gt;= 1.5.0 should work here --&gt;
            &lt;version&gt;2.2.2&lt;/version&gt;
          &lt;/dependency&gt;
          &lt;dependency&gt;
            &lt;!-- this is only needed because the script uses it --&gt;
            &lt;groupId&gt;org.apache.ivy&lt;/groupId&gt;
            &lt;artifactId&gt;ivy&lt;/artifactId&gt;
            &lt;version&gt;2.2.0&lt;/version&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;!-- this is only needed because the script uses it --&gt;
      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
      &lt;version&gt;1.0.13&lt;/version&gt;
      &lt;scope&gt;compile&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div>
<p>To execute your script(s), simply execute GMavenPlus's execute goal:</p>
<div class="source">
<pre>mvn gplus:execute
</pre></div>
<p>To make this easy to invoke (like above), you may want to add the plugin group to your <tt>settings.xml</tt>:</p>
<div class="source">
<pre>&lt;pluginGroups&gt;
  &lt;pluginGroup&gt;org.codehaus.gmavenplus&lt;/pluginGroup&gt;
&lt;pluginGroups&gt;
</pre></div></div>
<div class="section">
<h3><a name="Groovy_Console">Groovy Console</a></h3>
<p>If you're already using GMavenPlus in your project, no additional configuration is needed. If you're not already using GMavenPlus in your project but want to be able to use the console, you'll need to define the version of GMavenPlus and Groovy. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
            &lt;!-- any version of Groovy \&gt;= 1.5.0 should work here --&gt;
            &lt;version&gt;2.2.2&lt;/version&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;
</pre></div>
<p>To launch a Groovy console bound to the current project, simply execute GMavenPlus's console goal:</p>
<div class="source">
<pre>mvn gplus:console
</pre></div>
<p>Or you can start a console without having GMavenPlus in your project, as long as you have a dependency on Groovy in your project by running the complete path to the goal:</p>
<div class="source">
<pre>mvn org.codehaus.gmavenplus:gmavenplus-plugin:1.1-SNAPSHOT:console
</pre></div></div>
<div class="section">
<h3><a name="Groovy_Shell">Groovy Shell</a></h3>
<p>If want to be able to use the shell, you'll need to define the version of GMavenPlus, Groovy, and JLine. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
            &lt;!-- any version of Groovy \&gt;= 1.5.0 should work here --&gt;
            &lt;version&gt;2.2.2&lt;/version&gt;
          &lt;/dependency&gt;
          &lt;dependency&gt;
            &lt;!-- GMavenPlus can't provide this dependency because JLine made a breaking change that was pulled in 2.2.0-beta-1 with GROOVY-5344 --&gt;
            &lt;groupId&gt;jline&lt;/groupId&gt;
            &lt;artifactId&gt;jline&lt;/artifactId&gt;
            &lt;!-- if you are using a version of Groovy \&lt; 2.2.0-beta-1, you'll need to use version 1.0 --&gt;
            &lt;version&gt;2.11&lt;/version&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;
</pre></div>
<p>To launch a Groovy console bound to the current project, simply execute GMavenPlus's shell goal:</p>
<div class="source">
<pre>mvn gplus:shell
</pre></div></div>
<div class="section">
<h3><a name="Working_with_Older_Groovy_Versions">Working with Older Groovy Versions</a></h3>
<p>If the mojo you're trying to run doesn't support the version of Groovy you use at runtime (or any other reason you want to use a different version of Groovy for compilation), you can override the version used by the plugin to use a version that the mojo does support. This is not the recommended solution (since there might be runtime API incompatibilities and in some cases it won't even compile). It's better to just upgrade your Groovy version. However, if this isn't possible, simply add a dependency to the plugin. To do this, you should add something similar to the following in your <tt>pom.xml</tt>:</p>
<div class="source">
<pre>&lt;project&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;
        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;!-- your goals here --&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
            &lt;!-- it's probably safest to use a version that's as close to the runtime version as possible, while still being compatible with the mojo --&gt;
            &lt;version&gt;${someMojoCompatibleGroovyVersion}&lt;/version&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;version&gt;${someOldGroovyVersion}&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2011&#x2013;2014.
          All rights reserved.      
                    
      </p>
        </div>

        
        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="http://www.ohloh.net/p/GMavenPlus/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>
