<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Sep 13, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20110913" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="index.html" id="bannerLeft">
                                                <img src="images/logos/GMavenPlusLogo_sm.png" alt="GMavenPlus" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2011-09-13</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0-alpha1-SNAPSHOT</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Usage<a name="Usage"></a></h2><p>The following examples describe the basic usage of the GMavenPlus Plugin.</p><div class="section"><h3>Contents<a name="Contents"></a></h3><ul><li><a href="#Basic_Usage">Basic Usage</a></li><li><a href="#Generate_Stubs">Generate Stubs</a></li><li><a href="#Generate_Groovydoc">Generate Groovydoc</a></li><li><a href="#Add_Groovydoc_to_Site">Add Groovydoc to Site</a></li><li><a href="#Execute_Scripts">Execute Scripts</a></li></ul></div><div class="section"><h3><a name="Basic_Usage">Basic Usage</a></h3><p>To compile Groovy code as part of the project compilation, you should add the GMavenPlus Plugin in the &lt;build&gt; section of your pom:</p><div class="source"><pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;GMavenPlus&lt;/groupId&gt;
        &lt;artifactId&gt;GMavenPlus-Plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-alpha1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          ...
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy should work here --&gt;
      &lt;version&gt;1.8.2&lt;/version&gt;
    &lt;/dependency&gt;
    ....
  &lt;/dependencies&gt;
  ...
&lt;/project&gt;
</pre></div><p>When you execute <tt>mvn compile</tt>, both the main and test Groovy sources will be compiled.</p></div><div class="section"><h3><a name="Generate_Stubs">Generate Stubs</a></h3><p>To generate stubs as part of the project compilation, you should add the GMavenPlus Plugin in the &lt;build&gt; section of your pom:</p><div class="source"><pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;GMavenPlus&lt;/groupId&gt;
        &lt;artifactId&gt;GMavenPlus-Plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-alpha1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;generateStubs&lt;/goal&gt;
              &lt;goal&gt;testGenerateStubs&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          ...
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy should work here --&gt;
      &lt;version&gt;1.8.2&lt;/version&gt;
    &lt;/dependency&gt;
    ....
  &lt;/dependencies&gt;
  ...
&lt;/project&gt;
</pre></div><p>When you execute <tt>mvn generate-test-sources</tt>, the stubs will be generated for both the main and test Groovy sources.</p></div><div class="section"><h3><a name="Generate_Groovydoc">Generate Groovydoc</a></h3><p>Here is the basic usage to get Groovydoc in your target directory:</p><div class="source"><pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;GMavenPlus&lt;/groupId&gt;
        &lt;artifactId&gt;GMavenPlus-Plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-alpha1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          ...
        &lt;/executions&gt;
        &lt;configuration&gt;
          ...
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy should work here --&gt;
      &lt;version&gt;1.8.2&lt;/version&gt;
    &lt;/dependency&gt;
    ....
  &lt;/dependencies&gt;
  ...
&lt;/project&gt;
</pre></div><p>When you execute <tt>mvn gmavenplus:groovydoc</tt>, Groovydoc will be generated for the main sources.</p></div><div class="section"><h3><a name="Add_Groovydoc_to_Site">Add Groovydoc to Site</a></h3><p>Note that this mojo is not set up to be used in the &lt;reporting&gt; section. So you will need to set the &lt;outputDirectory&gt; and &lt;executions&gt; to mimic this functionality:</p><div class="source"><pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;GMavenPlus&lt;/groupId&gt;
        &lt;artifactId&gt;GMavenPlus-Plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-alpha1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;phase&gt;site&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;groovydoc&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;groovydocOutputDirectory&gt;${project.reporting.outputDirectory}/gapidocs&lt;/groovydocOutputDirectory&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy should work here --&gt;
      &lt;version&gt;1.8.2&lt;/version&gt;
    &lt;/dependency&gt;
    ....
  &lt;/dependencies&gt;
  ...
&lt;/project&gt;
</pre></div><p>When you execute <tt>mvn site</tt>, Groovydoc will be generated for the main sources.</p></div><div class="section"><h3><a name="Execute_Scripts">Execute Scripts</a></h3><p>Note that you can't yet use project dependencies in your scripts. You can use Groovy's <a class="externalLink" href="http://groovy.codehaus.org/Grape">@Grab</a> annotations, but you will need a compile dependency on Ivy since GMavenPlus doesn't depend on Ivy. Also note that you need to escape any dollar signs in your script so Maven doesn't try to filter the values. To execute Groovy scripts in your pom, add something similar to the following:</p><div class="source"><pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;GMavenPlus&lt;/groupId&gt;
        &lt;artifactId&gt;GMavenPlus-Plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-alpha1-SNAPSHOT&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;execute&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;scripts&gt;
            &lt;script&gt;&lt;![CDATA[
              @Grapes([
                @Grab(group='commons-lang', module='commons-lang', version='2.6')
              ])
              import org.apache.commons.lang.SystemUtils
              println &quot;Using Java $${SystemUtils.JAVA_VERSION}&quot;
            ]]&gt;&lt;/script&gt;
            &lt;script&gt;file:///${project.basedir}/src/main/groovy/HelloWorld2.groovy&lt;/script&gt;
          &lt;/scripts&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
      &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
      &lt;!-- any version of Groovy should work here --&gt;
      &lt;version&gt;1.8.2&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.ivy&lt;/groupId&gt;
      &lt;artifactId&gt;ivy&lt;/artifactId&gt;
      &lt;!-- any version of Ivy should work here --&gt;
      &lt;version&gt;2.2.0&lt;/version&gt;
    &lt;/dependency&gt;
    ....
  &lt;/dependencies&gt;
  ...
&lt;/project&gt;
</pre></div><p>When you execute <tt>mvn gmavenplus:execute</tt>, your scripts will be executed.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2011.
          All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
